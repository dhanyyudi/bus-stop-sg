2025-09-15 01:43:44,227 - __main__ - INFO - Python version: 3.10.18 (main, Jun  4 2025, 04:04:42) [GCC 13.3.0]
2025-09-15 01:43:44,227 - __main__ - INFO - Starting FIXED comprehensive workflow with 4 workers
2025-09-15 01:43:44,227 - __main__ - INFO - This version uses ORIGINAL LTA data with proper code normalization
2025-09-15 01:43:44,227 - __main__ - INFO - STARTING ENHANCED BUS STOP DATA COLLECTION WORKFLOW
2025-09-15 01:43:44,228 - __main__ - INFO - ================================================================================
2025-09-15 01:43:44,228 - __main__ - INFO - STEP 1: Downloading original LTA DataMall data...
2025-09-15 01:43:44,228 - __main__ - INFO - Starting download from LTA DataMall...
2025-09-15 01:43:45,340 - __main__ - INFO - API request (skip=0) completed in 1.11 seconds
2025-09-15 01:43:45,341 - __main__ - INFO - Retrieved 500 records (total: 500)
2025-09-15 01:43:47,638 - __main__ - INFO - API request (skip=500) completed in 1.10 seconds
2025-09-15 01:43:47,639 - __main__ - INFO - Retrieved 500 records (total: 1000)
2025-09-15 01:43:49,933 - __main__ - INFO - API request (skip=1000) completed in 1.09 seconds
2025-09-15 01:43:49,934 - __main__ - INFO - Retrieved 500 records (total: 1500)
2025-09-15 01:43:52,271 - __main__ - INFO - API request (skip=1500) completed in 1.13 seconds
2025-09-15 01:43:52,272 - __main__ - INFO - Retrieved 500 records (total: 2000)
2025-09-15 01:43:54,751 - __main__ - INFO - API request (skip=2000) completed in 1.26 seconds
2025-09-15 01:43:54,752 - __main__ - INFO - Retrieved 500 records (total: 2500)
2025-09-15 01:43:57,056 - __main__ - INFO - API request (skip=2500) completed in 1.08 seconds
2025-09-15 01:43:57,057 - __main__ - INFO - Retrieved 500 records (total: 3000)
2025-09-15 01:43:59,369 - __main__ - INFO - API request (skip=3000) completed in 1.08 seconds
2025-09-15 01:43:59,370 - __main__ - INFO - Retrieved 500 records (total: 3500)
2025-09-15 01:44:01,731 - __main__ - INFO - API request (skip=3500) completed in 1.12 seconds
2025-09-15 01:44:01,732 - __main__ - INFO - Retrieved 500 records (total: 4000)
2025-09-15 01:44:04,064 - __main__ - INFO - API request (skip=4000) completed in 1.08 seconds
2025-09-15 01:44:04,065 - __main__ - INFO - Retrieved 500 records (total: 4500)
2025-09-15 01:44:06,402 - __main__ - INFO - API request (skip=4500) completed in 1.08 seconds
2025-09-15 01:44:06,403 - __main__ - INFO - Retrieved 500 records (total: 5000)
2025-09-15 01:44:08,531 - __main__ - INFO - API request (skip=5000) completed in 0.87 seconds
2025-09-15 01:44:08,531 - __main__ - INFO - Retrieved 165 records (total: 5165)
2025-09-15 01:44:10,500 - __main__ - INFO - API request (skip=5500) completed in 0.88 seconds
2025-09-15 01:44:10,500 - __main__ - INFO - No more records to fetch from API
2025-09-15 01:44:10,514 - __main__ - INFO - Saved 5165 ORIGINAL records to data/LTA_bus_stops_15092025.csv
2025-09-15 01:44:10,514 - __main__ - INFO - LTA DataMall download completed in 26.29 seconds
2025-09-15 01:44:10,515 - __main__ - INFO - Downloaded 5,165 bus stops from LTA DataMall
2025-09-15 01:44:10,515 - __main__ - INFO - STEP 2: Performing comprehensive data comparison...
2025-09-15 01:44:10,516 - __main__ - INFO - Found previous LTA DataMall file: data/LTA_bus_stops_27052025.csv
2025-09-15 01:44:10,516 - __main__ - INFO - Performing FIXED comprehensive comparison with previous data from data/LTA_bus_stops_27052025.csv
2025-09-15 01:44:10,522 - __main__ - INFO - === DEBUGGING CODE FORMATS ===
2025-09-15 01:44:10,522 - __main__ - INFO - Old file sample codes (raw): [1012, 1013, 1019, 1029, 1039]
2025-09-15 01:44:10,522 - __main__ - INFO - New data sample codes (raw): ['01012', '01013', '01019', '01029', '01039']
2025-09-15 01:44:10,533 - __main__ - INFO - Old file sample codes (normalized): ['01012', '01013', '01019', '01029', '01039']
2025-09-15 01:44:10,533 - __main__ - INFO - New data sample codes (normalized): ['01012', '01013', '01019', '01029', '01039']
2025-09-15 01:44:10,540 - __main__ - INFO - ==========================================================================================
2025-09-15 01:44:10,540 - __main__ - INFO - COMPREHENSIVE BUS STOP COMPARISON REPORT (FIXED)
2025-09-15 01:44:10,540 - __main__ - INFO - ==========================================================================================
2025-09-15 01:44:10,540 - __main__ - INFO - Previous dataset (27052025): 5,170 bus stops
2025-09-15 01:44:10,540 - __main__ - INFO - Current dataset  (15092025): 5,165 bus stops
2025-09-15 01:44:10,541 - __main__ - INFO - Net change in quantity: -5
2025-09-15 01:44:10,541 - __main__ - INFO - ------------------------------------------------------------------------------------------
2025-09-15 01:44:10,541 - __main__ - INFO - CODE CHANGES (after normalization):
2025-09-15 01:44:10,541 - __main__ - INFO -    NEW bus stop codes:     22
2025-09-15 01:44:10,541 - __main__ - INFO -    REMOVED bus stop codes: 27
2025-09-15 01:44:10,541 - __main__ - INFO -    UNCHANGED codes:        5,143
2025-09-15 01:44:10,541 - __main__ - INFO - NAME CHANGES (for same codes):
2025-09-15 01:44:10,541 - __main__ - INFO -    Bus stops with name changes: 555
2025-09-15 01:44:10,541 - __main__ - INFO -    Bus stops with same names:   4,588
2025-09-15 01:44:10,541 - __main__ - INFO - ------------------------------------------------------------------------------------------
2025-09-15 01:44:10,541 - __main__ - INFO - TOTAL CHANGES DETECTED: 604
2025-09-15 01:44:10,541 - __main__ - INFO -    = 22 new + 27 removed + 555 name changes
2025-09-15 01:44:10,541 - __main__ - INFO - ------------------------------------------------------------------------------------------
2025-09-15 01:44:10,543 - __main__ - INFO - Sample new codes: 65739(65739), 40501(40501), 32131(32131)
2025-09-15 01:44:10,543 - __main__ - INFO -    ... and 19 more new codes
2025-09-15 01:44:10,544 - __main__ - INFO - Sample removed codes: 31211(31211), 32059(32059), 59008(59008)
2025-09-15 01:44:10,544 - __main__ - INFO -    ... and 24 more removed codes
2025-09-15 01:44:10,545 - __main__ - INFO - Sample name changes:
2025-09-15 01:44:10,546 - __main__ - INFO -      26039: 'ASIA POLYURETHANE' -> 'Asia Polyurethane'
2025-09-15 01:44:10,547 - __main__ - INFO -      25751: 'BEF TUAS STH AVE 14' -> 'Bef Tuas Sth Ave 14'
2025-09-15 01:44:10,547 - __main__ - INFO -      18059: 'Opp One-North Stn' -> 'Opp one-north Stn'
2025-09-15 01:44:10,547 - __main__ - INFO -    ... and 552 more name changes
2025-09-15 01:44:10,547 - __main__ - INFO - ==========================================================================================
2025-09-15 01:44:10,547 - __main__ - INFO - 604 CHANGES DETECTED - Will proceed with SimplyGo scraping
2025-09-15 01:44:10,547 - __main__ - INFO -    Will scrape SimplyGo for all changed bus stops to get corrected names
2025-09-15 01:44:10,547 - __main__ - INFO - ==========================================================================================
2025-09-15 01:44:10,548 - __main__ - INFO - Added 22 new bus stops to processing list
2025-09-15 01:44:10,549 - __main__ - INFO - Added 27 removed bus stops to processing list (for reference)
2025-09-15 01:44:10,553 - __main__ - INFO - Added 555 name-changed bus stops to processing list
2025-09-15 01:44:10,556 - __main__ - INFO - Total changes to process: 604
2025-09-15 01:44:10,557 - __main__ - INFO -    - Will scrape SimplyGo for: 577 bus stops
2025-09-15 01:44:10,557 - __main__ - INFO -    - Removed bus stops (reference only): 27
2025-09-15 01:44:10,560 - __main__ - INFO - Saved 604 changes to data/LTA_changes_27052025-15092025.csv
2025-09-15 01:44:10,560 - __main__ - INFO - Comprehensive LTA data comparison (FIXED) completed in 0.04 seconds
2025-09-15 01:44:10,560 - __main__ - INFO - STEP 3: Determining bus stops for SimplyGo scraping...
2025-09-15 01:44:10,561 - __main__ - INFO - Bus stops to scrape from SimplyGo: 577
2025-09-15 01:44:10,562 - __main__ - INFO -    Breakdown:
2025-09-15 01:44:10,562 - __main__ - INFO -       NEW bus stops: 22
2025-09-15 01:44:10,562 - __main__ - INFO -       NAME changed: 555
2025-09-15 01:44:10,562 - __main__ - INFO -       REMOVED (skip): 27
2025-09-15 01:44:10,562 - __main__ - INFO - ======================================================================
2025-09-15 01:44:10,562 - __main__ - INFO - CHANGES DETECTED: 604 total changes
2025-09-15 01:44:10,562 - __main__ - INFO - WILL SCRAPE: 577 bus stops from SimplyGo
2025-09-15 01:44:10,562 - __main__ - INFO - ======================================================================
2025-09-15 01:44:10,562 - __main__ - INFO - Sample codes to scrape: 32121, 32129, 32131, 32139, 32141, 32149, 32151, 32159, 40481, 40489, ... and 567 more
2025-09-15 01:44:10,563 - __main__ - INFO - STEP 4: Scraping SimplyGo for changed bus stops...
2025-09-15 01:44:10,563 - root - INFO - Setting up WebDriver pool with 4 workers
2025-09-15 01:44:10,563 - root - INFO - Initializing WebDriver pool with 4 drivers
2025-09-15 01:44:10,563 - WDM - INFO - ====== WebDriver manager ======
2025-09-15 01:44:13,217 - WDM - INFO - Get LATEST chromedriver version for google-chrome
2025-09-15 01:44:13,272 - WDM - INFO - Get LATEST chromedriver version for google-chrome
2025-09-15 01:44:13,308 - WDM - INFO - There is no [linux64] chromedriver "140.0.7339.82" for browser google-chrome "140.0.7339" in cache
2025-09-15 01:44:13,308 - WDM - INFO - Get LATEST chromedriver version for google-chrome
2025-09-15 01:44:13,428 - WDM - INFO - WebDriver version 140.0.7339.82 selected
2025-09-15 01:44:13,432 - WDM - INFO - Modern chrome version https://storage.googleapis.com/chrome-for-testing-public/140.0.7339.82/linux64/chromedriver-linux64.zip
2025-09-15 01:44:13,433 - WDM - INFO - About to download new driver from https://storage.googleapis.com/chrome-for-testing-public/140.0.7339.82/linux64/chromedriver-linux64.zip
2025-09-15 01:44:13,488 - WDM - INFO - Driver downloading response is 200
2025-09-15 01:44:13,559 - WDM - INFO - Get LATEST chromedriver version for google-chrome
2025-09-15 01:44:13,712 - WDM - INFO - Driver has been saved in cache [/home/runner/.wdm/drivers/chromedriver/linux64/140.0.7339.82]
2025-09-15 01:44:26,286 - WDM - INFO - ====== WebDriver manager ======
2025-09-15 01:44:26,351 - WDM - INFO - Get LATEST chromedriver version for google-chrome
2025-09-15 01:44:26,388 - WDM - INFO - Get LATEST chromedriver version for google-chrome
2025-09-15 01:44:26,424 - WDM - INFO - Driver [/home/runner/.wdm/drivers/chromedriver/linux64/140.0.7339.82/chromedriver-linux64/chromedriver] found in cache
2025-09-15 01:44:26,632 - WDM - INFO - ====== WebDriver manager ======
2025-09-15 01:44:26,697 - WDM - INFO - Get LATEST chromedriver version for google-chrome
2025-09-15 01:44:26,735 - WDM - INFO - Get LATEST chromedriver version for google-chrome
2025-09-15 01:44:26,779 - WDM - INFO - Driver [/home/runner/.wdm/drivers/chromedriver/linux64/140.0.7339.82/chromedriver-linux64/chromedriver] found in cache
2025-09-15 01:44:26,972 - WDM - INFO - ====== WebDriver manager ======
2025-09-15 01:44:27,039 - WDM - INFO - Get LATEST chromedriver version for google-chrome
2025-09-15 01:44:27,074 - WDM - INFO - Get LATEST chromedriver version for google-chrome
2025-09-15 01:44:27,108 - WDM - INFO - Driver [/home/runner/.wdm/drivers/chromedriver/linux64/140.0.7339.82/chromedriver-linux64/chromedriver] found in cache
2025-09-15 01:44:27,300 - root - INFO - WebDriver pool initialized successfully
2025-09-15 01:47:21,533 - root - INFO - Checkpoint saved at 20/577 (3.5%)
2025-09-15 01:47:21,537 - root - INFO - Checkpoint saved at 40/577 (6.9%)
2025-09-15 01:47:21,542 - root - INFO - Checkpoint saved at 60/577 (10.4%)
2025-09-15 01:47:21,548 - root - INFO - Checkpoint saved at 80/577 (13.9%)
2025-09-15 01:47:22,139 - root - INFO - Checkpoint saved at 100/577 (17.3%)
2025-09-15 01:47:53,294 - root - INFO - Checkpoint saved at 120/577 (20.8%)
2025-09-15 01:48:23,310 - root - INFO - Checkpoint saved at 140/577 (24.3%)
2025-09-15 01:48:54,044 - root - INFO - Checkpoint saved at 160/577 (27.7%)
2025-09-15 01:49:25,771 - root - INFO - Checkpoint saved at 180/577 (31.2%)
2025-09-15 01:49:59,360 - root - INFO - Checkpoint saved at 200/577 (34.7%)
2025-09-15 01:50:35,019 - root - INFO - Checkpoint saved at 220/577 (38.1%)
2025-09-15 01:51:08,361 - root - INFO - Checkpoint saved at 240/577 (41.6%)
2025-09-15 01:51:45,940 - root - INFO - Checkpoint saved at 260/577 (45.1%)
2025-09-15 01:52:17,201 - root - INFO - Checkpoint saved at 280/577 (48.5%)
2025-09-15 01:52:51,147 - root - INFO - Checkpoint saved at 300/577 (52.0%)
2025-09-15 01:53:24,805 - root - INFO - Checkpoint saved at 320/577 (55.5%)
2025-09-15 01:53:56,219 - root - INFO - Checkpoint saved at 340/577 (58.9%)
2025-09-15 01:54:28,484 - root - INFO - Checkpoint saved at 360/577 (62.4%)
2025-09-15 01:55:02,131 - root - INFO - Checkpoint saved at 380/577 (65.9%)
2025-09-15 01:55:35,563 - root - INFO - Checkpoint saved at 400/577 (69.3%)
2025-09-15 01:56:08,974 - root - INFO - Checkpoint saved at 420/577 (72.8%)
2025-09-15 01:56:40,633 - root - INFO - Checkpoint saved at 440/577 (76.3%)
2025-09-15 01:57:15,086 - root - INFO - Checkpoint saved at 460/577 (79.7%)
2025-09-15 01:57:50,041 - root - INFO - Checkpoint saved at 480/577 (83.2%)
2025-09-15 01:58:21,848 - root - INFO - Checkpoint saved at 500/577 (86.7%)
2025-09-15 01:58:52,454 - root - INFO - Checkpoint saved at 520/577 (90.1%)
2025-09-15 01:59:27,245 - root - INFO - Checkpoint saved at 540/577 (93.6%)
2025-09-15 01:59:58,956 - root - INFO - Checkpoint saved at 560/577 (97.1%)
2025-09-15 02:00:30,426 - root - INFO - Closing all WebDrivers in pool
2025-09-15 02:00:30,852 - root - INFO - Scraping completed in 980.29 seconds
2025-09-15 02:00:30,852 - root - INFO - Success rate: 577/577 (100.0%)
2025-09-15 02:00:30,856 - root - INFO - Results saved to output/simplygo_bus_stops_20250915_014410.csv
2025-09-15 02:00:30,858 - __main__ - INFO - SimplyGo scraping completed: 577 results
2025-09-15 02:00:30,858 - __main__ - INFO - STEP 5: Applying corrections to original LTA data...
2025-09-15 02:00:30,861 - __main__ - INFO - Valid SimplyGo corrections available: 577
2025-09-15 02:00:31,383 - __main__ - INFO - Applied 577 corrections from SimplyGo to original LTA data
2025-09-15 02:00:31,399 - __main__ - INFO - Saved corrected dataset to data/lta_correction_20250915_014344.csv
2025-09-15 02:00:31,415 - __main__ - INFO - Saved consistent copy to data/lta_correction.csv
2025-09-15 02:00:31,415 - __main__ - INFO - ENHANCED WORKFLOW COMPLETED
2025-09-15 02:00:31,415 - __main__ - INFO - Enhanced comprehensive workflow completed in 1007.19 seconds
2025-09-15 02:00:31,416 - __main__ - INFO - ==========================================================================================
2025-09-15 02:00:31,416 - __main__ - INFO - FIXED WORKFLOW COMPLETED SUCCESSFULLY!
2025-09-15 02:00:31,416 - __main__ - INFO - ==========================================================================================
2025-09-15 02:00:31,416 - __main__ - INFO - FINAL STATISTICS:
2025-09-15 02:00:31,416 - __main__ - INFO -    Total bus stops: 5,165
2025-09-15 02:00:31,416 - __main__ - INFO -    SimplyGo corrections applied: 577
2025-09-15 02:00:31,416 - __main__ - INFO -    Correction rate: 11.2%
2025-09-15 02:00:31,418 - __main__ - INFO - CHANGE BREAKDOWN:
2025-09-15 02:00:31,418 - __main__ - INFO -    New bus stops: 22
2025-09-15 02:00:31,418 - __main__ - INFO -    Name changes: 555
2025-09-15 02:00:31,418 - __main__ - INFO -    Removed stops: 27
2025-09-15 02:00:31,418 - __main__ - INFO -    Total changes: 604
2025-09-15 02:00:31,418 - __main__ - INFO - EFFICIENCY METRICS:
2025-09-15 02:00:31,418 - __main__ - INFO -    Scraping success rate: 100.0%
2025-09-15 02:00:31,418 - __main__ - INFO -    Processing efficiency: Only processed 604 changes instead of all 5,165 bus stops
2025-09-15 02:00:31,419 - __main__ - INFO - SAMPLE CORRECTIONS:
2025-09-15 02:00:31,419 - __main__ - INFO -    04019: 'Opp Bencoolen Stn Exit B' -> 'Opp Bencoolen Stn Exit B'
2025-09-15 02:00:31,420 - __main__ - INFO -    04029: 'Bef Bencoolen Stn Exit A' -> 'Bef Bencoolen Stn Exit A'
2025-09-15 02:00:31,420 - __main__ - INFO -    04151: 'Cath of The Good Shepherd' -> 'Cath of The Good Shepherd'
2025-09-15 02:00:31,420 - __main__ - INFO - ==========================================================================================
2025-09-15 02:00:31,420 - __main__ - INFO - All data saved and ready for use!
2025-09-15 02:00:31,420 - __main__ - INFO - Main output: data/lta_correction.csv
2025-09-15 02:00:31,420 - __main__ - INFO - ==========================================================================================
2025-09-15 02:00:31,421 - __main__ - INFO - Script execution finished
