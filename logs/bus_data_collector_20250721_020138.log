2025-07-21 02:01:38,782 - __main__ - INFO - Python version: 3.10.18 (main, Jun  4 2025, 04:04:42) [GCC 13.3.0]
2025-07-21 02:01:38,782 - __main__ - INFO - Starting FIXED comprehensive workflow with 4 workers
2025-07-21 02:01:38,782 - __main__ - INFO - This version uses ORIGINAL LTA data with proper code normalization
2025-07-21 02:01:38,782 - __main__ - INFO - STARTING ENHANCED BUS STOP DATA COLLECTION WORKFLOW
2025-07-21 02:01:38,782 - __main__ - INFO - ================================================================================
2025-07-21 02:01:38,782 - __main__ - INFO - STEP 1: Downloading original LTA DataMall data...
2025-07-21 02:01:38,782 - __main__ - INFO - Starting download from LTA DataMall...
2025-07-21 02:01:40,129 - __main__ - INFO - API request (skip=0) completed in 1.34 seconds
2025-07-21 02:01:40,130 - __main__ - INFO - Retrieved 500 records (total: 500)
2025-07-21 02:01:42,535 - __main__ - INFO - API request (skip=500) completed in 1.20 seconds
2025-07-21 02:01:42,536 - __main__ - INFO - Retrieved 500 records (total: 1000)
2025-07-21 02:01:44,978 - __main__ - INFO - API request (skip=1000) completed in 1.23 seconds
2025-07-21 02:01:44,979 - __main__ - INFO - Retrieved 500 records (total: 1500)
2025-07-21 02:01:47,395 - __main__ - INFO - API request (skip=1500) completed in 1.20 seconds
2025-07-21 02:01:47,396 - __main__ - INFO - Retrieved 500 records (total: 2000)
2025-07-21 02:01:49,840 - __main__ - INFO - API request (skip=2000) completed in 1.22 seconds
2025-07-21 02:01:49,841 - __main__ - INFO - Retrieved 500 records (total: 2500)
2025-07-21 02:01:52,270 - __main__ - INFO - API request (skip=2500) completed in 1.20 seconds
2025-07-21 02:01:52,271 - __main__ - INFO - Retrieved 500 records (total: 3000)
2025-07-21 02:01:54,707 - __main__ - INFO - API request (skip=3000) completed in 1.20 seconds
2025-07-21 02:01:54,708 - __main__ - INFO - Retrieved 500 records (total: 3500)
2025-07-21 02:01:57,121 - __main__ - INFO - API request (skip=3500) completed in 1.17 seconds
2025-07-21 02:01:57,122 - __main__ - INFO - Retrieved 500 records (total: 4000)
2025-07-21 02:01:59,595 - __main__ - INFO - API request (skip=4000) completed in 1.22 seconds
2025-07-21 02:01:59,596 - __main__ - INFO - Retrieved 500 records (total: 4500)
2025-07-21 02:02:02,082 - __main__ - INFO - API request (skip=4500) completed in 1.23 seconds
2025-07-21 02:02:02,083 - __main__ - INFO - Retrieved 500 records (total: 5000)
2025-07-21 02:02:04,397 - __main__ - INFO - API request (skip=5000) completed in 1.05 seconds
2025-07-21 02:02:04,398 - __main__ - INFO - Retrieved 160 records (total: 5160)
2025-07-21 02:02:06,332 - __main__ - INFO - API request (skip=5500) completed in 0.85 seconds
2025-07-21 02:02:06,332 - __main__ - INFO - No more records to fetch from API
2025-07-21 02:02:06,346 - __main__ - INFO - Saved 5160 ORIGINAL records to data/LTA_bus_stops_21072025.csv
2025-07-21 02:02:06,346 - __main__ - INFO - LTA DataMall download completed in 27.56 seconds
2025-07-21 02:02:06,347 - __main__ - INFO - Downloaded 5,160 bus stops from LTA DataMall
2025-07-21 02:02:06,347 - __main__ - INFO - STEP 2: Performing comprehensive data comparison...
2025-07-21 02:02:06,347 - __main__ - INFO - Found previous LTA DataMall file: data/LTA_bus_stops_27052025.csv
2025-07-21 02:02:06,347 - __main__ - INFO - Performing FIXED comprehensive comparison with previous data from data/LTA_bus_stops_27052025.csv
2025-07-21 02:02:06,353 - __main__ - INFO - === DEBUGGING CODE FORMATS ===
2025-07-21 02:02:06,353 - __main__ - INFO - Old file sample codes (raw): [1012, 1013, 1019, 1029, 1039]
2025-07-21 02:02:06,353 - __main__ - INFO - New data sample codes (raw): ['01012', '01013', '01019', '01029', '01039']
2025-07-21 02:02:06,364 - __main__ - INFO - Old file sample codes (normalized): ['01012', '01013', '01019', '01029', '01039']
2025-07-21 02:02:06,364 - __main__ - INFO - New data sample codes (normalized): ['01012', '01013', '01019', '01029', '01039']
2025-07-21 02:02:06,371 - __main__ - INFO - ==========================================================================================
2025-07-21 02:02:06,371 - __main__ - INFO - COMPREHENSIVE BUS STOP COMPARISON REPORT (FIXED)
2025-07-21 02:02:06,371 - __main__ - INFO - ==========================================================================================
2025-07-21 02:02:06,371 - __main__ - INFO - Previous dataset (27052025): 5,170 bus stops
2025-07-21 02:02:06,372 - __main__ - INFO - Current dataset  (21072025): 5,160 bus stops
2025-07-21 02:02:06,372 - __main__ - INFO - Net change in quantity: -10
2025-07-21 02:02:06,372 - __main__ - INFO - ------------------------------------------------------------------------------------------
2025-07-21 02:02:06,372 - __main__ - INFO - CODE CHANGES (after normalization):
2025-07-21 02:02:06,372 - __main__ - INFO -    NEW bus stop codes:     16
2025-07-21 02:02:06,372 - __main__ - INFO -    REMOVED bus stop codes: 26
2025-07-21 02:02:06,372 - __main__ - INFO -    UNCHANGED codes:        5,144
2025-07-21 02:02:06,372 - __main__ - INFO - NAME CHANGES (for same codes):
2025-07-21 02:02:06,372 - __main__ - INFO -    Bus stops with name changes: 555
2025-07-21 02:02:06,372 - __main__ - INFO -    Bus stops with same names:   4,589
2025-07-21 02:02:06,372 - __main__ - INFO - ------------------------------------------------------------------------------------------
2025-07-21 02:02:06,372 - __main__ - INFO - TOTAL CHANGES DETECTED: 597
2025-07-21 02:02:06,372 - __main__ - INFO -    = 16 new + 26 removed + 555 name changes
2025-07-21 02:02:06,372 - __main__ - INFO - ------------------------------------------------------------------------------------------
2025-07-21 02:02:06,374 - __main__ - INFO - Sample new codes: 65211(65211), 32131(32131), 69099(69099)
2025-07-21 02:02:06,374 - __main__ - INFO -    ... and 13 more new codes
2025-07-21 02:02:06,376 - __main__ - INFO - Sample removed codes: 34101(34101), 31071(31071), 31061(31061)
2025-07-21 02:02:06,376 - __main__ - INFO -    ... and 23 more removed codes
2025-07-21 02:02:06,376 - __main__ - INFO - Sample name changes:
2025-07-21 02:02:06,378 - __main__ - INFO -      25651: 'NOVARTIS' -> 'Novartis'
2025-07-21 02:02:06,378 - __main__ - INFO -      63369: 'Serangoon Sports Cplx' -> 'S'goon Sports Cplx'
2025-07-21 02:02:06,378 - __main__ - INFO -      82091: 'Aft Queen Of Peace Ch' -> 'Aft Queen of Peace Ch'
2025-07-21 02:02:06,378 - __main__ - INFO -    ... and 552 more name changes
2025-07-21 02:02:06,378 - __main__ - INFO - ==========================================================================================
2025-07-21 02:02:06,378 - __main__ - INFO - 597 CHANGES DETECTED - Will proceed with SimplyGo scraping
2025-07-21 02:02:06,378 - __main__ - INFO -    Will scrape SimplyGo for all changed bus stops to get corrected names
2025-07-21 02:02:06,379 - __main__ - INFO - ==========================================================================================
2025-07-21 02:02:06,380 - __main__ - INFO - Added 16 new bus stops to processing list
2025-07-21 02:02:06,381 - __main__ - INFO - Added 26 removed bus stops to processing list (for reference)
2025-07-21 02:02:06,385 - __main__ - INFO - Added 555 name-changed bus stops to processing list
2025-07-21 02:02:06,388 - __main__ - INFO - Total changes to process: 597
2025-07-21 02:02:06,389 - __main__ - INFO -    - Will scrape SimplyGo for: 571 bus stops
2025-07-21 02:02:06,389 - __main__ - INFO -    - Removed bus stops (reference only): 26
2025-07-21 02:02:06,392 - __main__ - INFO - Saved 597 changes to data/LTA_changes_27052025-21072025.csv
2025-07-21 02:02:06,392 - __main__ - INFO - Comprehensive LTA data comparison (FIXED) completed in 0.04 seconds
2025-07-21 02:02:06,393 - __main__ - INFO - STEP 3: Determining bus stops for SimplyGo scraping...
2025-07-21 02:02:06,393 - __main__ - INFO - Bus stops to scrape from SimplyGo: 571
2025-07-21 02:02:06,395 - __main__ - INFO -    Breakdown:
2025-07-21 02:02:06,395 - __main__ - INFO -       NEW bus stops: 16
2025-07-21 02:02:06,395 - __main__ - INFO -       NAME changed: 555
2025-07-21 02:02:06,395 - __main__ - INFO -       REMOVED (skip): 26
2025-07-21 02:02:06,395 - __main__ - INFO - ======================================================================
2025-07-21 02:02:06,395 - __main__ - INFO - CHANGES DETECTED: 597 total changes
2025-07-21 02:02:06,395 - __main__ - INFO - WILL SCRAPE: 571 bus stops from SimplyGo
2025-07-21 02:02:06,395 - __main__ - INFO - ======================================================================
2025-07-21 02:02:06,395 - __main__ - INFO - Sample codes to scrape: 32121, 32129, 32131, 32139, 32141, 32149, 32151, 32159, 65211, 65219, ... and 561 more
2025-07-21 02:02:06,395 - __main__ - INFO - STEP 4: Scraping SimplyGo for changed bus stops...
2025-07-21 02:02:06,395 - root - INFO - Setting up WebDriver pool with 4 workers
2025-07-21 02:02:06,395 - root - INFO - Initializing WebDriver pool with 4 drivers
2025-07-21 02:02:06,395 - WDM - INFO - ====== WebDriver manager ======
2025-07-21 02:02:07,619 - WDM - INFO - Get LATEST chromedriver version for google-chrome
2025-07-21 02:02:07,645 - WDM - INFO - Get LATEST chromedriver version for google-chrome
2025-07-21 02:02:07,668 - WDM - INFO - There is no [linux64] chromedriver "138.0.7204.157" for browser google-chrome "138.0.7204" in cache
2025-07-21 02:02:07,668 - WDM - INFO - Get LATEST chromedriver version for google-chrome
2025-07-21 02:02:07,759 - WDM - INFO - WebDriver version 138.0.7204.157 selected
2025-07-21 02:02:07,763 - WDM - INFO - Modern chrome version https://storage.googleapis.com/chrome-for-testing-public/138.0.7204.157/linux64/chromedriver-linux64.zip
2025-07-21 02:02:07,763 - WDM - INFO - About to download new driver from https://storage.googleapis.com/chrome-for-testing-public/138.0.7204.157/linux64/chromedriver-linux64.zip
2025-07-21 02:02:07,797 - WDM - INFO - Driver downloading response is 200
2025-07-21 02:02:07,874 - WDM - INFO - Get LATEST chromedriver version for google-chrome
2025-07-21 02:02:08,015 - WDM - INFO - Driver has been saved in cache [/home/runner/.wdm/drivers/chromedriver/linux64/138.0.7204.157]
2025-07-21 02:02:12,272 - WDM - INFO - ====== WebDriver manager ======
2025-07-21 02:02:12,385 - WDM - INFO - Get LATEST chromedriver version for google-chrome
2025-07-21 02:02:12,409 - WDM - INFO - Get LATEST chromedriver version for google-chrome
2025-07-21 02:02:12,433 - WDM - INFO - Driver [/home/runner/.wdm/drivers/chromedriver/linux64/138.0.7204.157/chromedriver-linux64/chromedriver] found in cache
2025-07-21 02:02:12,688 - WDM - INFO - ====== WebDriver manager ======
2025-07-21 02:02:12,801 - WDM - INFO - Get LATEST chromedriver version for google-chrome
2025-07-21 02:02:12,824 - WDM - INFO - Get LATEST chromedriver version for google-chrome
2025-07-21 02:02:12,847 - WDM - INFO - Driver [/home/runner/.wdm/drivers/chromedriver/linux64/138.0.7204.157/chromedriver-linux64/chromedriver] found in cache
2025-07-21 02:02:13,097 - WDM - INFO - ====== WebDriver manager ======
2025-07-21 02:02:13,212 - WDM - INFO - Get LATEST chromedriver version for google-chrome
2025-07-21 02:02:13,238 - WDM - INFO - Get LATEST chromedriver version for google-chrome
2025-07-21 02:02:13,261 - WDM - INFO - Driver [/home/runner/.wdm/drivers/chromedriver/linux64/138.0.7204.157/chromedriver-linux64/chromedriver] found in cache
2025-07-21 02:02:13,509 - root - INFO - WebDriver pool initialized successfully
2025-07-21 02:05:08,387 - root - INFO - Checkpoint saved at 20/571 (3.5%)
2025-07-21 02:05:08,390 - root - INFO - Checkpoint saved at 40/571 (7.0%)
2025-07-21 02:05:08,394 - root - INFO - Checkpoint saved at 60/571 (10.5%)
2025-07-21 02:05:08,399 - root - INFO - Checkpoint saved at 80/571 (14.0%)
2025-07-21 02:05:13,079 - root - INFO - Checkpoint saved at 100/571 (17.5%)
2025-07-21 02:05:51,057 - root - INFO - Checkpoint saved at 120/571 (21.0%)
2025-07-21 02:06:27,277 - root - INFO - Checkpoint saved at 140/571 (24.5%)
2025-07-21 02:07:03,160 - root - INFO - Checkpoint saved at 160/571 (28.0%)
2025-07-21 02:07:38,185 - root - INFO - Checkpoint saved at 180/571 (31.5%)
2025-07-21 02:08:15,456 - root - INFO - Checkpoint saved at 200/571 (35.0%)
2025-07-21 02:08:50,993 - root - INFO - Checkpoint saved at 220/571 (38.5%)
2025-07-21 02:09:24,933 - root - INFO - Checkpoint saved at 240/571 (42.0%)
2025-07-21 02:09:59,118 - root - INFO - Checkpoint saved at 260/571 (45.5%)
2025-07-21 02:10:34,337 - root - INFO - Checkpoint saved at 280/571 (49.0%)
2025-07-21 02:11:11,053 - root - INFO - Checkpoint saved at 300/571 (52.5%)
2025-07-21 02:11:48,822 - root - INFO - Checkpoint saved at 320/571 (56.0%)
2025-07-21 02:12:24,382 - root - INFO - Checkpoint saved at 340/571 (59.5%)
2025-07-21 02:12:59,432 - root - INFO - Checkpoint saved at 360/571 (63.0%)
2025-07-21 02:13:35,374 - root - INFO - Checkpoint saved at 380/571 (66.5%)
2025-07-21 02:14:08,631 - root - INFO - Checkpoint saved at 400/571 (70.1%)
2025-07-21 02:14:44,338 - root - INFO - Checkpoint saved at 420/571 (73.6%)
2025-07-21 02:15:21,004 - root - INFO - Checkpoint saved at 440/571 (77.1%)
2025-07-21 02:15:57,358 - root - INFO - Checkpoint saved at 460/571 (80.6%)
2025-07-21 02:16:32,431 - root - INFO - Checkpoint saved at 480/571 (84.1%)
2025-07-21 02:17:09,092 - root - INFO - Checkpoint saved at 500/571 (87.6%)
2025-07-21 02:17:43,716 - root - INFO - Checkpoint saved at 520/571 (91.1%)
2025-07-21 02:18:20,305 - root - INFO - Checkpoint saved at 540/571 (94.6%)
2025-07-21 02:18:58,239 - root - INFO - Checkpoint saved at 560/571 (98.1%)
2025-07-21 02:19:15,298 - root - INFO - Closing all WebDrivers in pool
2025-07-21 02:19:15,671 - root - INFO - Scraping completed in 1029.28 seconds
2025-07-21 02:19:15,671 - root - INFO - Success rate: 571/571 (100.0%)
2025-07-21 02:19:15,675 - root - INFO - Results saved to output/simplygo_bus_stops_20250721_020206.csv
2025-07-21 02:19:15,677 - __main__ - INFO - SimplyGo scraping completed: 571 results
2025-07-21 02:19:15,677 - __main__ - INFO - STEP 5: Applying corrections to original LTA data...
2025-07-21 02:19:15,681 - __main__ - INFO - Valid SimplyGo corrections available: 571
2025-07-21 02:19:16,218 - __main__ - INFO - Applied 571 corrections from SimplyGo to original LTA data
2025-07-21 02:19:16,234 - __main__ - INFO - Saved corrected dataset to data/lta_correction_20250721_020138.csv
2025-07-21 02:19:16,250 - __main__ - INFO - Saved consistent copy to data/lta_correction.csv
2025-07-21 02:19:16,250 - __main__ - INFO - ENHANCED WORKFLOW COMPLETED
2025-07-21 02:19:16,250 - __main__ - INFO - Enhanced comprehensive workflow completed in 1057.47 seconds
2025-07-21 02:19:16,251 - __main__ - INFO - ==========================================================================================
2025-07-21 02:19:16,251 - __main__ - INFO - FIXED WORKFLOW COMPLETED SUCCESSFULLY!
2025-07-21 02:19:16,251 - __main__ - INFO - ==========================================================================================
2025-07-21 02:19:16,251 - __main__ - INFO - FINAL STATISTICS:
2025-07-21 02:19:16,252 - __main__ - INFO -    Total bus stops: 5,160
2025-07-21 02:19:16,252 - __main__ - INFO -    SimplyGo corrections applied: 571
2025-07-21 02:19:16,252 - __main__ - INFO -    Correction rate: 11.1%
2025-07-21 02:19:16,253 - __main__ - INFO - CHANGE BREAKDOWN:
2025-07-21 02:19:16,253 - __main__ - INFO -    New bus stops: 16
2025-07-21 02:19:16,253 - __main__ - INFO -    Name changes: 555
2025-07-21 02:19:16,253 - __main__ - INFO -    Removed stops: 26
2025-07-21 02:19:16,253 - __main__ - INFO -    Total changes: 597
2025-07-21 02:19:16,254 - __main__ - INFO - EFFICIENCY METRICS:
2025-07-21 02:19:16,254 - __main__ - INFO -    Scraping success rate: 100.0%
2025-07-21 02:19:16,254 - __main__ - INFO -    Processing efficiency: Only processed 597 changes instead of all 5,160 bus stops
2025-07-21 02:19:16,255 - __main__ - INFO - SAMPLE CORRECTIONS:
2025-07-21 02:19:16,255 - __main__ - INFO -    04019: 'Opp Bencoolen Stn Exit B' -> 'Opp Bencoolen Stn Exit B'
2025-07-21 02:19:16,255 - __main__ - INFO -    04029: 'Bef Bencoolen Stn Exit A' -> 'Bef Bencoolen Stn Exit A'
2025-07-21 02:19:16,255 - __main__ - INFO -    04151: 'Cath of The Good Shepherd' -> 'Cath of The Good Shepherd'
2025-07-21 02:19:16,255 - __main__ - INFO - ==========================================================================================
2025-07-21 02:19:16,255 - __main__ - INFO - All data saved and ready for use!
2025-07-21 02:19:16,255 - __main__ - INFO - Main output: data/lta_correction.csv
2025-07-21 02:19:16,255 - __main__ - INFO - ==========================================================================================
2025-07-21 02:19:16,256 - __main__ - INFO - Script execution finished
